<!DOCTYPE html>
<html lang="zxx" dir="ltr" class="light">

  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content>
    <title>{% block title %}{% endblock %} - SafeZone</title>
    <link rel="icon" type="image/png" href="{{ url_for('static', filename='assets/images/logo/logo.png') }}">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com"
      crossorigin="anonymous">
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap"
      rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.css">
    <!-- BEGIN: Theme CSS-->
    <link rel="stylesheet"
      href="{{ url_for('static', filename='assets/css/rt-plugins.css') }}">
    <link rel="stylesheet"
      href="{{ url_for('static', filename='assets/css/app.css') }}">
    <!-- End : Theme CSS-->
    <script src="{{ url_for('static', filename='assets/js/settings.js') }}" sync></script>
    <!-- <script src="https://cdn.jsdelivr.net/npm/chart.js@2.9.4/dist/Chart.min.js"></script> -->
    <script src="{{ url_for('static', filename='assets/js/chart-active.js') }}"></script>
    <script src="https://cdn.jsdelivr.net/npm/apexcharts"></script>
    {%block styles %}
      <!-- Scripts adicionales -->
    {% endblock %}
  </head>

  <body class=" font-inter dashcode-app" id="body_class">
    <main class="app-wrapper">
      <!-- BEGIN: Sidebar -->
      <!-- BEGIN: Sidebar -->
      <div class="sidebar-wrapper group">
        <div id="bodyOverlay"
          class="w-screen h-screen fixed top-0 bg-slate-900 bg-opacity-50 backdrop-blur-sm z-10 hidden"></div>
        <div class="logo-segment">
          <a class="flex items-center" href="{{ url_for('user.home') }}">
            <img src="{{ url_for('static', filename='assets/images/logo/samsung-8.svg') }}" class="black_logo" alt="logo">
            <img src="{{ url_for('static', filename='assets/images/logo/samsung-8-white.svg') }}" class="white_logo" alt="logo">
          </a>
          <!-- Sidebar Type Button -->
          <div id="sidebar_type"
            class="cursor-pointer text-slate-900 dark:text-white text-lg">
            <span
              class="sidebarDotIcon extend-icon cursor-pointer text-slate-900 dark:text-white text-2xl">
              <div
                class="h-4 w-4 border-[1.5px] border-slate-900 dark:border-slate-700 rounded-full transition-all duration-150 ring-2 ring-inset ring-offset-4 ring-black-900 dark:ring-slate-400 bg-slate-900 dark:bg-slate-400 dark:ring-offset-slate-700"></div>
            </span>
            <span
              class="sidebarDotIcon collapsed-icon cursor-pointer text-slate-900 dark:text-white text-2xl">
              <div
                class="h-4 w-4 border-[1.5px] border-slate-900 dark:border-slate-700 rounded-full transition-all duration-150"></div>
            </span>
          </div>
          <button class="sidebarCloseIcon text-2xl">
            <iconify-icon class="text-slate-900 dark:text-slate-200"
              icon="clarity:window-close-line"></iconify-icon>
          </button>
        </div>
        <div id="nav_shadow"
          class="nav_shadow h-[60px] absolute top-[80px] nav-shadow z-[1] w-full transition-all duration-200 pointer-events-none
      opacity-0"></div>
        <div
          class="sidebar-menus bg-white dark:bg-slate-800 py-1 px-4 h-[calc(100%-80px)] overflow-y-auto z-50"
          id="sidebar_menus">
          <ul class="sidebar-menu">
            <li class="sidebar-menu-title">MENU</li>
            <!-- Main Area -->
            <li>
              <a href="{{ url_for('user.home') }}" class="navItem">
                <span class="flex items-center">
                    <iconify-icon class="nav-icon" icon="material-symbols:dashboard-outline"></iconify-icon>
                  <span>Inicio</span>
                </span>
              </a>
            </li>

            <li class>
              <a href="{{ url_for('user.user_index') }}" class="navItem">
                <span class="flex items-center">
                    <iconify-icon class="nav-icon" icon="heroicons-outline:home"></iconify-icon>
                  <span>Hogar</span>
                </span>
              </a>
            </li>

            {% if role == 'Owner' %}
              <li class>
                <a href="{{ url_for('user.miembros_hogar') }}" class="navItem">
                  <span class="flex items-center">
                    <iconify-icon class=" nav-icon"
                      icon="heroicons-outline:user-group"></iconify-icon>
                    <span>Gestión de miembros</span>
                  </span>
                </a>
              </li>
            {% endif %}

            <li class>
              <a href="{{ url_for('domotica.user_domotica') }}" class="navItem">
                <span class="flex items-center">
                  <iconify-icon class=" nav-icon"
                    icon="heroicons-outline:chart-pie"></iconify-icon>
                  <span>Domótica</span>
                </span>
              </a>
            </li>

            <li class>
              <a href="{{ url_for('user.galeria') }}" class="navItem">
                <span class="flex items-center">
                  <iconify-icon class="nav-icon"
                    icon="mingcute:camera-line"></iconify-icon>
                  <span>Galeria de vigilancia</span>
                </span>
              </a>
            </li>
          </ul>
        </div>
      </div>
      <!-- End: Sidebar -->
      <!-- End: Sidebar -->
      <!-- BEGIN: Settings -->

      <!-- BEGIN: Settings -->
      <!-- Settings Toggle Button -->
      <button
        class="fixed ltr:md:right-[-29px] ltr:right-0 rtl:left-0 rtl:md:left-[-29px] top-1/2 z-[888] translate-y-1/2 bg-slate-800 text-slate-50 dark:bg-slate-700 dark:text-slate-300 cursor-pointer transform rotate-90 flex items-center text-sm font-medium px-2 py-2 shadow-deep ltr:rounded-b rtl:rounded-t"
        data-bs-toggle="offcanvas" data-bs-target="#offcanvas"
        aria-controls="offcanvas">
        <iconify-icon class="text-slate-50 text-lg animate-spin"
          icon="material-symbols:settings-outline-rounded"></iconify-icon>
        <span class="hidden md:inline-block ltr:ml-2 rtl:mr-2">Ajustes</span>
      </button>

      <!-- BEGIN: Settings Modal -->
      <div class="offcanvas offcanvas-end fixed bottom-0 flex flex-col max-w-full bg-white dark:bg-slate-800 invisible bg-clip-padding shadow-sm outline-none transition duration-300 ease-in-out text-gray-700 top-0 ltr:right-0 rtl:left-0 border-none w-96"
        tabindex="-1" id="offcanvas" aria-labelledby="offcanvas">
        <div class="offcanvas-header flex items-center justify-between p-4 pt-3 border-b border-b-slate-300">
          <div>
            <h3 class="block text-xl font-Inter text-slate-900 font-medium dark:text-[#eee]">
              Personalizador de Temas
            </h3>
            <p class="block text-sm font-Inter font-light text-[#68768A] dark:text-[#eee]">
              Personalice y obtenga una vista previa en tiempo real
            </p>
          </div>
          <button type="button" class="box-content text-2xl w-4 h-4 p-2 pt-0 -my-5 -mr-2 text-black dark:text-white border-none rounded-none opacity-100 focus:shadow-none focus:outline-none focus:opacity-100 hover:text-black hover:opacity-75 hover:no-underline"
            data-bs-dismiss="offcanvas">
            <iconify-icon icon="line-md:close"></iconify-icon>
          </button>
        </div>
        <div class="offcanvas-body flex-grow overflow-y-auto">
          <div class="settings-modal">
            <div class="p-6">

              <h3 class="mt-4">Tema</h3>
              <form class="input-area flex items-center space-x-8 rtl:space-x-reverse" id="themeChanger">
                <div class="input-group flex items-center">
                  <input type="radio" id="light" name="theme" value="light" class="themeCustomization-checkInput">
                  <label for="light" class="themeCustomization-checkInput-label">Claro</label>
                </div>
                <div class="input-group flex items-center">
                  <input type="radio" id="dark" name="theme" value="dark" class="themeCustomization-checkInput">
                  <label for="dark" class="themeCustomization-checkInput-label">Oscuro</label>
                </div>
                <div class="input-group flex items-center">
                  <input type="radio" id="semiDark" name="theme" value="semiDark" class="themeCustomization-checkInput">
                  <label for="semiDark" class="themeCustomization-checkInput-label">Semi Oscuro</label>
                </div>
              </form>
            </div>
            
            <div class="divider"></div>
            <div class="p-6">
              <h3>Distribución del Menú</h3>
              <div class="input-area flex items-center space-x-8 rtl:space-x-reverse">
                <div class="input-group flex items-center">
                  <input type="radio" id="vertical_menu" name="menu_layout" value="vertical" class="themeCustomization-checkInput">
                  <label for="vertical_menu" class="themeCustomization-checkInput-label">Vertical</label>
                </div>
                <div class="input-group flex items-center">
                  <input type="radio" id="horizontal_menu" name="menu_layout" value="horizontal" class="themeCustomization-checkInput">
                  <label for="horizontal_menu" class="themeCustomization-checkInput-label">Horizontal</label>
                </div>
              </div>
              <div id="menuCollapse" class="flex items-center justify-between mt-5">
                <h3 class="!mb-0">Menú Colapsado</h3>
                <label class="relative inline-flex h-6 w-[46px] items-center rounded-full transition-all duration-150 cursor-pointer">
                  <input type="checkbox" value class="sr-only peer">
                  <span class="w-11 h-6 bg-gray-200 peer-focus:outline-none ring-0 rounded-full peer dark:bg-gray-900 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-black-500"></span>
                </label>
              </div>
            </div>
            <div class="divider"></div>
            <div class="p-6">
              <h3>Tipo de Barra de Navegación</h3>
              <div class="input-area flex flex-wrap items-center space-x-4 rtl:space-x-reverse">
                <div class="input-group flex items-center">
                  <input type="radio" id="nav_sticky" name="navbarType" value="sticky" class="themeCustomization-checkInput">
                  <label for="nav_sticky" class="themeCustomization-checkInput-label">Sticky</label>
                </div>
                <div class="input-group flex items-center">
                  <input type="radio" id="nav_static" name="navbarType" value="static" class="themeCustomization-checkInput">
                  <label for="nav_static" class="themeCustomization-checkInput-label">Estático</label>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <!-- END: Settings Modal -->

      <!-- End: Settings -->
      <div class="flex flex-col justify-between min-h-screen">
        <div>
          <!-- BEGIN: Header -->
          <div class="z-[9]" id="app_header">
            <div class="app-header z-[999] ltr:ml-[248px] rtl:mr-[248px] bg-white dark:bg-slate-800 shadow-sm dark:shadow-slate-700">
              <div class="flex justify-between items-center h-full">
                <div class="flex items-center md:space-x-4 space-x-2 xl:space-x-0 rtl:space-x-reverse vertical-box">
                  <button class="smallDeviceMenuController hidden md:inline-block xl:hidden">
                    <iconify-icon 
                      class="leading-none bg-transparent relative text-xl top-[2px] text-slate-900 dark:text-white"
                      icon="heroicons-outline:menu-alt-3">
                    </iconify-icon>
                  </button>
                </div>
                <!-- end vertcial -->
                <div
                  class="items-center space-x-4 rtl:space-x-reverse horizental-box">
                  <a href="index.html">
                    <span class="xl:inline-block hidden">
                      <img src="assets/images/logo/logo.svg" class="black_logo "
                        alt="logo">
                      <img src="assets/images/logo/logo-white.svg"
                        class="white_logo" alt="logo">
                    </span>
                    <span class="xl:hidden inline-block">
                      <img src="assets/images/logo/logo-c.svg"
                        class="black_logo " alt="logo">
                      <img src="assets/images/logo/logo-c-white.svg"
                        class="white_logo " alt="logo">
                    </span>
                  </a>
                  <button
                    class="smallDeviceMenuController  open-sdiebar-controller xl:hidden inline-block">
                    <iconify-icon
                      class="leading-none bg-transparent relative text-xl top-[2px] text-slate-900 dark:text-white"
                      icon="heroicons-outline:menu-alt-3"></iconify-icon>
                  </button>

                </div>
                <!-- end horizental -->

                <div class="main-menu">
                  <ul>
                    <li class="menu-item-has-children">
                      <!--  Single menu -->

                      <!-- has dropdown -->
                      <a href="{{ url_for('user.home') }}">
                        <div class="flex flex-1 items-center space-x-[6px] rtl:space-x-reverse">
                          <span class="icon-box">
                            <iconify-icon class="nav-icon" icon="material-symbols:dashboard-outline"></iconify-icon>
                          </span>
                          <div class="text-box">Inicio</div>
                        </div>
                      </a>

                      <!-- Megamenu -->

                    </li>

                    <li class="menu-item-has-children">
                      <!--  Single menu -->

                      <!-- has dropdown -->
                      <a href="{{ url_for('user.user_index') }}">
                        <div class="flex flex-1 items-center space-x-[6px] rtl:space-x-reverse">
                          <span class="icon-box">
                            <iconify-icon class="nav-icon" icon="heroicons-outline:home"></iconify-icon>
                          </span>
                          <div class="text-box">Hogar</div>
                        </div>
                      </a>

                      <!-- Megamenu -->

                    </li>

                    {% if role == 'Owner' %}
                      <li class="menu-item-has-children">
                        <!--  Single menu -->

                        <!-- has dropdown -->
                        <a href="{{ url_for('user.miembros_hogar') }}">
                          <div class="flex flex-1 items-center space-x-[6px] rtl:space-x-reverse">
                            <span class="icon-box">
                              <iconify-icon class="nav-icon" icon="heroicons-outline:user-group"></iconify-icon>
                            </span>
                            <div class="text-box">Gestión de miembros</div>
                          </div>
                        </a>

                        <!-- Megamenu -->

                      </li>
                    {% endif %}

                    <li class="menu-item-has-children">
                      <!--  Single menu -->

                      <!-- has dropdown -->
                      <a href="{{ url_for('domotica.user_domotica') }}">
                        <div class="flex flex-1 items-center space-x-[6px] rtl:space-x-reverse">
                          <span class="icon-box">
                            <iconify-icon class="nav-icon" icon="heroicons-outline:chart-pie"></iconify-icon>
                          </span>
                          <div class="text-box">Domótica</div>
                        </div>
                      </a>

                      <!-- Megamenu -->

                    </li>

                    <li class="menu-item-has-children">
                      <!--  Single menu -->

                      <!-- has dropdown -->
                      <a href="{{ url_for('user.galeria') }}">
                        <div class="flex flex-1 items-center space-x-[6px] rtl:space-x-reverse">
                          <span class="icon-box">
                            <iconify-icon class="nav-icon" icon="mingcute:camera-line"></iconify-icon>
                          </span>
                          <div class="text-box">Galería de vigilancia</div>
                        </div>
                      </a>

                      <!-- Megamenu -->

                    </li>

                  </ul>
                </div>
                <!-- end top menu -->
                <div
                  class="nav-tools flex items-center lg:space-x-5 space-x-3 rtl:space-x-reverse leading-0">

                  <!-- BEGIN: Toggle Theme -->
                  <div class="relative md:block hidden">
                    <button id="themeMood"
                      class="h-[28px] w-[28px] lg:h-[32px] lg:w-[32px] lg:bg-gray-500-f7 bg-slate-50 dark:bg-slate-900 lg:dark:bg-slate-900 dark:text-white text-slate-900 cursor-pointer rounded-full text-[20px] flex flex-col items-center justify-center">
                      <iconify-icon
                        class="text-slate-800 dark:text-white text-xl dark:block hidden"
                        id="moonIcon"
                        icon="line-md:sunny-outline-to-moon-alt-loop-transition"></iconify-icon>
                      <iconify-icon
                        class="text-slate-800 dark:text-white text-xl dark:hidden block"
                        id="sunIcon"
                        icon="line-md:moon-filled-to-sunny-filled-loop-transition"></iconify-icon>
                    </button>
                  </div>
                  <!-- END: TOggle Theme -->

                  <!-- BEGIN: gray-scale Dropdown -->
                  <div>
                    <button id="grayScale"
                      class="lg:h-[32px] lg:w-[32px] lg:bg-slate-100 lg:dark:bg-slate-900 dark:text-white text-slate-900 cursor-pointer
            rounded-full text-[20px] flex flex-col items-center justify-center">
                      <iconify-icon
                        class="text-slate-800 dark:text-white text-xl"
                        icon="mdi:paint-outline"></iconify-icon>
                    </button>
                  </div>
                  <!-- END: gray-scale Dropdown -->

                  <!-- BEGIN: Notification Dropdown -->
                  <!-- Notifications Dropdown area -->
                  <div class="relative md:block hidden">
                    <button
                      class="lg:h-[32px] lg:w-[32px] lg:bg-slate-100 lg:dark:bg-slate-900 dark:text-white text-slate-900 cursor-pointer
                          rounded-full text-[20px] flex flex-col items-center justify-center"
                      type="button" data-bs-toggle="dropdown"
                      aria-expanded="false">
                      <iconify-icon
                        class="animate-tada text-slate-800 dark:text-white text-xl"
                        icon="heroicons-outline:bell"></iconify-icon>
                      <span
                        class="absolute -right-1 lg:top-0 -top-[6px] h-4 w-4 bg-red-500 text-[8px] font-semibold flex flex-col items-center
                              justify-center rounded-full text-white z-[99]">
                        2</span>
                    </button>
                    <!-- Notifications Dropdown -->
                    <div
                      class="dropdown-menu z-10 hidden bg-white shadow w-[335px]
                            dark:bg-slate-800 border dark:border-slate-700 !top-[23px] rounded-md overflow-hidden lrt:origin-top-right rtl:origin-top-left">
                      <div class="flex items-center justify-between py-4 px-4">
                        <h3
                          class="text-sm font-Inter font-medium text-slate-700 dark:text-white">Notificaciones</h3>
                        <a
                          class="text-xs font-Inter font-normal underline text-slate-500 dark:text-white"
                          href="#">Ver todo</a>
                      </div>
                      <div class role="none">
                        <div
                          class="bg-slate-100 dark:bg-slate-700 dark:bg-opacity-70 text-slate-800 block w-full px-4 py-2 text-sm relative">
                          <div class="flex ltr:text-left rtl:text-right">
                            <div class="flex-none ltr:mr-3 rtl:ml-3">
                              <div class="h-8 w-8 bg-white rounded-full">
                                <img
                                  src="{{ url_for('static', filename='assets/images/svg/notify-siren.svg') }}"
                                  alt="user"
                                  class="border-white block w-full h-full object-cover rounded-full border">
                              </div>
                            </div>
                            <div class="flex-1">
                              <a href="#"
                                class="text-slate-600 dark:text-slate-300 text-sm font-medium mb-1 before:w-full before:h-full before:absolute
                                    before:top-0 before:left-0">
                                Se han activado las alarmas</a>
                              <div
                                class="text-slate-500 dark:text-slate-200 text-xs leading-4">
                                Las alarmas han estado sonando
                              </div>
                              <div
                                class="text-slate-400 dark:text-slate-400 text-xs mt-1">
                                hace 3 minutos
                              </div>
                            </div>
                          </div>
                        </div>
                        <div
                          class="text-slate-600 dark:text-slate-300 block w-full px-4 py-2 text-sm">
                          <div
                            class="flex ltr:text-left rtl:text-right relative">
                            <div class="flex-none ltr:mr-3 rtl:ml-3">
                              <div class="h-8 w-8 bg-white rounded-full">
                                <img src="{{ url_for('static', filename='assets/images/svg/notify-emoji.svg') }}"
                                  alt="user"
                                  class="border-transparent block w-full h-full object-cover rounded-full border">
                              </div>
                            </div>
                            <div class="flex-1">
                              <a href="#"
                                class="text-slate-600 dark:text-slate-300 text-sm font-medium mb-1 before:w-full before:h-full before:absolute before:top-0 before:left-0">
                                Felicidades Axl 🎉
                              </a>
                              <div class="text-slate-600 dark:text-slate-300 text-xs leading-4">
                                Has ganado un mes gratis de suscripción premium
                              </div>
                              <div class="text-slate-400 dark:text-slate-400 text-xs mt-1">
                                hace 5 minutos
                              </div>
                            </div>
                          </div>
                          <div class="flex-0">
                            <span
                              class="h-[10px] w-[10px] bg-danger-500 border border-white dark:border-slate-400 rounded-full inline-block"></span>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                  <!-- END: Notification Dropdown -->

                  <!-- BEGIN: Profile Dropdown -->
                  <!-- Profile DropDown Area -->
                  <div class="w-full">
                    <button class="text-slate-800 dark:text-white focus:ring-0 focus:outline-none font-medium rounded-lg text-sm text-center inline-flex items-center" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                      <div class="lg:h-8 lg:w-8 h-7 w-7 rounded-full flex-1 ltr:mr-[10px] rtl:ml-[10px]">
                        <!-- Imagen para el modo claro -->
                        <img 
                          src="{{ url_for('static', filename='assets/images/svg/user-circle-negro.svg') }}" 
                          alt="user" 
                          class="block w-full h-full object-cover rounded-full dark:hidden">

                        <!-- Imagen para el modo oscuro -->
                        <img 
                          src="{{ url_for('static', filename='assets/images/svg/user-circle-blanco.svg') }}" 
                          alt="user" 
                          class="block w-full h-full object-cover rounded-full hidden dark:block">
                      </div>
                      <span
                        class="flex-none text-slate-600 dark:text-white text-sm lg:text-base font-normal items-center overflow-hidden text-ellipsis whitespace-nowrap">
                        {{ user['nombre'] }} {{ user['apellidos'] }}
                      </span>
                      <svg
                        class="w-[16px] h-[16px] dark:text-white hidden lg:inline-block text-base inline-block ml-[10px] rtl:mr-[10px]"
                        aria-hidden="true" fill="none" stroke="currentColor"
                        viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                        <path stroke-linecap="round" stroke-linejoin="round"
                          stroke-width="2" d="M19 9l-7 7-7-7"></path>
                      </svg>
                    </button>
                    <!-- Dropdown menu -->
                    <div
                      class="dropdown-menu z-10 hidden bg-white divide-y divide-slate-100 shadow w-44 dark:bg-slate-800 border dark:border-slate-700 !top-[23px] rounded-md
      overflow-hidden">
                      <ul
                        class="py-1 text-sm text-slate-800 dark:text-slate-200">

                        <li>
                          <a href="{{ url_for('user.mi_cuenta') }}"
                            class="block px-4 py-2 hover:bg-slate-100 dark:hover:bg-slate-600 dark:hover:text-white font-inter text-sm text-slate-600
            dark:text-white font-normal">
                            <iconify-icon icon="heroicons-outline:cog"
                              class="relative top-[2px] text-lg ltr:mr-1 rtl:ml-1"></iconify-icon>
                            <span class="font-Inter">Mi cuenta</span>
                          </a>
                        </li>
                        <li>
                          <a href="{{ url_for('auth.logout') }}"
                            class="block px-4 py-2 hover:bg-slate-100 dark:hover:bg-slate-600 dark:hover:text-white font-inter text-sm text-slate-600
            dark:text-white font-normal">
                            <iconify-icon icon="heroicons-outline:login"
                              class="relative top-[2px] text-lg ltr:mr-1 rtl:ml-1"></iconify-icon>
                            <span class="font-Inter">Cerrar sesión</span>
                          </a>
                        </li>
                      </ul>
                    </div>
                  </div>
                  <!-- END: Header -->
                  <button
                    class="smallDeviceMenuController md:hidden block leading-0">
                    <iconify-icon
                      class="cursor-pointer text-slate-900 dark:text-white text-2xl"
                      icon="heroicons-outline:menu-alt-3"></iconify-icon>
                  </button>
                  <!-- end mobile menu -->
                </div>
                <!-- end nav tools -->
              </div>
            </div>
          </div>

          <!-- BEGIN: Search Modal -->
          <div
            class="modal fade fixed top-0 left-0 hidden w-full h-full outline-none overflow-x-hidden overflow-y-auto"
            id="searchModal" tabindex="-1" aria-labelledby="searchModalLabel"
            aria-hidden="true">
            <div
              class="modal-dialog relative w-auto pointer-events-none top-1/4">
              <div
                class="modal-content border-none shadow-lg relative flex flex-col w-full pointer-events-auto bg-white dark:bg-slate-900 bg-clip-padding rounded-md outline-none text-current">
                <form>
                  <div class="relative">
                    <input type="text" class="form-control !py-3 !pr-12"
                      placeholder="Buscar">
                    <button
                      class="absolute right-0 top-1/2 -translate-y-1/2 w-9 h-full border-l text-xl border-l-slate-200 dark:border-l-slate-600 dark:text-slate-300 flex items-center justify-center">
                      <iconify-icon
                        icon="heroicons-solid:search"></iconify-icon>
                    </button>
                  </div>
                </form>
              </div>
            </div>
          </div>
          <!-- END: Search Modal -->
          <!-- END: Header -->
          <!-- END: Header -->
          <div
            class="content-wrapper transition-all duration-150"
            id="content_wrapper">
            <div class="page-content">
              <div class="transition-all duration-150 container-fluid"
                id="page_layout">
                  {% block content %}{% endblock %}
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- BEGIN: Footer For Desktop and tab -->
        <footer class="md:block hidden" id="footer">
          <div class="site-footer px-6 bg-white dark:bg-slate-800 text-slate-500 dark:text-slate-300 py-4 ltr:ml-[248px] rtl:mr-[248px]">
            <div class="grid md:grid-cols-2 grid-cols-1 md:gap-5">
              <div class="text-center ltr:md:text-start rtl:md:text-right text-sm">
                COPYRIGHT ©
                <span id="thisYear"></span>
                SSafeZone 
              </div>
              <div class="ltr:md:text-right rtl:md:text-end text-center text-sm">
                Todos los Derechos Reservados.
              </div>
            </div>
          </div>
        </footer>
      <!-- END: Footer For Desktop and tab -->

        <div class="bg-white bg-no-repeat custom-dropshadow footer-bg dark:bg-slate-700 flex justify-around items-center 
        backdrop-filter backdrop-blur-[40px] fixed left-0 bottom-0 w-full z-[9999] bothrefm-0 py-[12px] px-4 md:hidden">
          <!-- BEGIN: Toggle Theme -->
          <div>
            <button id="themeMoodResponsive"
              class="relative h-[28px] w-[28px] lg:h-[32px] lg:w-[32px] dark:text-white text-slate-900 cursor-pointer rounded-full text-[20px] flex flex-col items-center justify-center">
              
              <iconify-icon
                class="text-slate-800 dark:text-white text-xl dark:block hidden"
                id="moonIcon"
                icon="line-md:sunny-outline-to-moon-alt-loop-transition"></iconify-icon>
              
              <iconify-icon
                class="text-slate-800 dark:text-white text-xl dark:hidden block"
                id="sunIcon"
                icon="line-md:moon-filled-to-sunny-filled-loop-transition"></iconify-icon>
            </button>
            <!-- Texto de descripción debajo del ícono, opcional -->
            <span class="block text-[11px] text-slate-600 dark:text-slate-300">
              Tema
            </span>
          </div>
          <!-- END: Toggle Theme -->

          <a href="{{ url_for('user.home') }}"
            class="relative bg-white bg-no-repeat backdrop-filter backdrop-blur-[40px] rounded-full footer-bg dark:bg-slate-700
              h-[65px] w-[65px] z-[-1] -mt-[40px] flex justify-center items-center">
            <div class="rounded-full relative left-[0px] hrefp-[0px] custom-dropshadow">
              <!-- Imagen para el modo oscuro -->
              <img src="{{ url_for('static', filename='assets/images/svg/videocamara-negro.svg') }}" alt
                class="w-full h-full rounded-full border-2 border-slate-900 dark:hidden">
              <!-- Imagen para el modo claro -->  
              <img src="{{ url_for('static', filename='assets/images/svg/videocamara-blanco.svg') }}" alt
                class="w-full h-full rounded-full border-2 border-slate-100 hidden dark:block">
            </div>
          </a>
          <a href="#">
            <div>
              <span
                class=" relative cursor-pointer rounded-full text-[20px] flex flex-col items-center justify-center mb-1 dark:text-white
                text-slate-900">
                <iconify-icon icon="heroicons-outline:bell"></iconify-icon>
                <span
                  class="absolute right-[17px] lg:hrefp-0 -hrefp-2 h-4 w-4 bg-red-500 text-[8px] font-semibold flex flex-col items-center
                  justify-center rounded-full text-white z-[99]">
                  2
                </span>
              </span>
              <span
                class=" block text-[11px] text-slate-600 dark:text-slate-300">
                Notifications
              </span>
            </div>
          </a>
        </div>
      </div>
    </main>
    <!-- scripts -->
    <script src="{{ url_for('static', filename='assets/js/jquery-3.6.0.min.js') }}"></script>
    <script src="{{ url_for('static', filename='assets/js/rt-plugins.js') }}"></script>
    <script src="{{ url_for('static', filename='assets/js/app.js') }}"></script>
    <script src="{{ url_for('static', filename='assets/js/chart-active.js') }}"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.js"></script>
    <script>
        {% with messages = get_flashed_messages(with_categories=true) %}
            {% if messages %}
              {% for category, message in messages %}
                  {% if category == 'success' %}
                  toastr.success("{{ message }}");
                  {% endif %}
              {% endfor %}
            {% endif %}
        {% endwith %}
        {% with messages = get_flashed_messages(with_categories=true) %}
            {% if messages %}
              {% for category, message in messages %}
                  {% if category == 'error' %}
                  toastr.error("{{ message }}");
                  {% endif %}
              {% endfor %}
            {% endif %}
        {% endwith %}
    </script>
    <!-- Cambia de tema desde el botón de cambio de tema del topbar y del responsive -->
    <script>
      // Selecciona ambos botones por sus ids
      const themeMoodButtons = document.querySelectorAll("#themeMoodResponsive");

      // Función para cambiar el tema
      function toggleTheme() {
        let currentTheme = localStorage.getItem("theme") || "light";
        
        // Cambia el tema
        currentTheme = currentTheme === "light" ? "dark" : "light";
        localStorage.setItem("theme", currentTheme);

        // Recarga la página para aplicar los cambios de tema
        location.reload();
      }

      // Adjunta el evento a ambos botones
      themeMoodButtons.forEach(button => {
        button.addEventListener("click", toggleTheme);
      });
    </script>
    <!-- Definir un bloque para los scripts específicos de cada vista -->
    {% block scripts %}
      <!-- Scripts adicionales específicos de la vista -->
    {% endblock %}
  </body>
</html>